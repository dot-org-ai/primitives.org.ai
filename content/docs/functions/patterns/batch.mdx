---
title: Batch Processing
description: Process multiple items efficiently
---

# Batch Processing

For high-volume or long-running tasks, use batch or background mode.

## Background Mode

Submit tasks for background processing:

```typescript
const titles = await list`25 blog post titles for ${topic}`

// Submit all to background
const jobs = await Promise.all(
  titles.map(title =>
    write`blog post for ${title}`({ mode: 'background' })
  )
)
// jobs = [{ id: 'job_abc', status: 'pending' }, ...]

// Check status later
const results = await Promise.all(jobs.map(job => job.result()))
```

## Batch Mode

Process all at once with better pricing (50% off on OpenAI):

```typescript
const posts = await write.batch(
  titles.map(title => ({
    title,
    brand,
    tone: 'technical',
    audience: 'developers',
  }))
)
// Processes all at once, returns when complete
```

## Streaming Batch Results

```typescript
for await (const post of write.batch.stream(
  titles.map(title => ({ title, brand }))
)) {
  await db.posts.create({
    title: post.title,
    content: post.content,
  })
}
```

## When to Use

| Mode | Use Case |
|------|----------|
| Normal | Single items, real-time |
| Background | Fire and forget, async |
| Batch | Many items, cost savings |
| Batch Stream | Many items, progressive |
