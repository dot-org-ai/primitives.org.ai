---
title: Read
description: Reading and listing entities
---

# Read

Read entities with `get`, `list`, `find`, and `forEach`.

## Get by ID

```typescript
const post = await db.Post.get('hello-world')

if (post) {
  console.log(post.title)
}
```

Returns `null` if not found.

## Get by URL

```typescript
const post = await db.get('https://example.com/posts/hello-world')
const post = await db.get('posts/hello-world')
```

## List All

```typescript
const posts = await db.Post.list()
```

### With Options

```typescript
const posts = await db.Post.list({
  limit: 10,
  offset: 0,
  orderBy: 'createdAt',
  order: 'desc',
})
```

### With Filters

```typescript
const published = await db.Post.list({
  where: { published: true },
  orderBy: 'publishedAt',
  order: 'desc',
})
```

## Find

Find entities matching criteria:

```typescript
const drafts = await db.Post.find({ status: 'draft' })

const recentPosts = await db.Post.find({
  published: true,
  createdAt: { $gte: lastWeek },
})
```

See [Queries](/docs/database/queries) for advanced filtering.

## ForEach

Iterate over entities:

```typescript
await db.Post.forEach(async (post) => {
  console.log(post.title)
})
```

### With Options

```typescript
await db.Post.forEach(
  { where: { published: true }, orderBy: 'createdAt' },
  async (post) => {
    await processPost(post)
  }
)
```

### Nested Iteration

```typescript
// Generate posts for every author × topic combination
await db.Author.forEach(async (author) => {
  await db.Topic.forEach(async (topic) => {
    await db.generate({
      type: 'Post',
      data: {
        author: author.$id,
        topic: topic.$id,
      },
    })
  })
})
```

## Relationships

Access related entities through the relationship field:

```typescript
const post = await db.Post.get('hello')

// Lazy-loaded relationship
const author = await post.author  // → Author entity

// Array relationship
const tags = await post.tags  // → Tag[] entities
```

## Type Metadata

Every entity provides access to its type:

```typescript
const post = await db.Post.get('hello')

post.$type        // 'Post'
post.type         // → Noun('Post')
post.type.plural  // 'posts'
```

## Generate on Get

Create entities on-demand:

```typescript
// Get or create
const post = await db.get({
  type: 'Post',
  id: 'intro-to-ai',
  generate: true,  // create if not found
})

// With generation context
const post = await db.get({
  type: 'Post',
  id: 'intro-to-ai',
  generate: {
    topic: 'Introduction to AI',
    audience: 'beginners',
  },
})
```

## ListOptions

```typescript
interface ListOptions {
  where?: Record<string, unknown>
  orderBy?: string
  order?: 'asc' | 'desc'
  limit?: number
  offset?: number
}
```
